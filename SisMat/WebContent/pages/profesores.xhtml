<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<f:view contentType="text/html">
	<h:head>
		<title>Profesores</title>
		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/default.css" />
		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/icons.css" />
		<script type="text/javacsript"
			src="#{request.contextPath}/js/jquery-2.1.3.js"></script>
		<script type="text/javacsript" src="#{request.contextPath}/js/util.js"></script>
		<style type="text/css">
			.fieldInputForm {
				width: 200px;
			}
		</style>
	</h:head>
	<h:body>
	<br />
		<h:form id="form">
		
		<p:panel id="Profesores" header="Lista de Profesores"
				styleClass="panelBusquedaForm" toggleable="false" closable="false"
				toggleSpeed="500" closeSpeed="2000" widgetVar="panel">
				
				<table>
					<tr>
						<td>
							<table>
								<tr>
									<td><p:outputLabel value="DNI:" /></td>
									<td>
									<p:inputMask value="#{profesoresMB.dni}"   requiredMessage="Ingrese DNI" mask="99999999"/></td>					
								</tr>
								<tr>
									<td><p:outputLabel value="Nombres:" /></td>
									<td>
									
									<p:inputText value="#{profesoresMB.nombres}" requiredMessage="Ingrese Nombres" maxlength="70" validatorMessage="Por favor ingrese el Nombre Correctamente" onkeypress="if(!(event.which &lt; 33 || event.which &gt; 64)||(!(event.which &lt; 91 || event.which &gt; 96))||(!(event.which &lt; 123 || event.which &gt; 159))||(!(event.which &lt; 166 || event.which &gt; 255))) return false;"/>
									
									</td>					
								</tr>	
								<tr>
									<td><p:outputLabel value="Apellidos:" /></td>
									<td>
									<p:inputText value="#{profesoresMB.apellidos}"  requiredMessage="Ingrese Apellidos" maxlength="70" validatorMessage="Por favor ingrese los Apellidos Correctamente" onkeypress="if(!(event.which &lt; 33 || event.which &gt; 64)||(!(event.which &lt; 91 || event.which &gt; 96))||(!(event.which &lt; 123 || event.which &gt; 159))||(!(event.which &lt; 166 || event.which &gt; 255))) return false;"/>
									</td>				
								</tr>							
							</table>
						</td>
					</tr>
					<tr>
						<td>
							<table>
								<tr>
									<td>
										<p:outputLabel value="Estado:" />
									</td>
									<td>
										<p:selectOneRadio id="idEstado" value="#{profesoresMB.estado}"  requiredMessage="Elija Estado" layout="grid" columns="2">
            								<f:selectItem itemValue="Activo" itemLabel="Activo"/>
            								<f:selectItem itemValue="Inactivo" itemLabel="Inactivo"/>
        								</p:selectOneRadio>
									</td>									
								</tr>
							</table>
						</td>
					</tr>
					
					<tr>
						<td>
							<table>
								<tr>
									<td>										
										<p:commandButton id="btnBuscar"								
										value="Buscar" action="#{profesoresMB.listaProfesores}" update=":form:idTabaProfesores" styleClass="buttonForm"/>
													<p:commandButton id="btnLimpiarrr"	 update="Profesores,idTabaProfesores"			
										process="@this" actionListener="#{profesoresMB.reset}"				
										value="Limpiar" styleClass="buttonForm"/>						
									</td>
								</tr>
							</table>
						</td>
					</tr>
				</table>
				
				<p:messages id="messages" showDetail="false" autoUpdate="true" closable="true" />
				
		</p:panel>
		
		<p:panel id="idTabaProfesores" 
				styleClass="panelTabla" toggleable="false" closable="false"
				toggleSpeed="500" closeSpeed="2000" widgetVar="panel">
				
			<p:dataTable rowIndexVar="row" var="lista" value="#{profesoresMB.listaProfesores}"
					editable="true">
			   
			   
					<p:ajax event="rowEdit" listener="#{profesoresMB.onEdit}"
						update=":form:messages" label="Editar" />
			    <p:column headerText="Id" styleClass="panelTabla">
						<h:outputText value="#{row + 1}" />
				</p:column>
			 
			    <p:column headerText="Nombres" styleClass="panelTabla">
			    <p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{lista.nombres}" />
							</f:facet>
							<f:facet name="input">
								<p:inputText value="#{lista.nombres}" required="true" maxlength="70" validatorMessage="Por favor ingrese el Nombre Correctamente" onkeypress="if(!(event.which &lt; 33 || event.which &gt; 64)||(!(event.which &lt; 91 || event.which &gt; 96))||(!(event.which &lt; 123 || event.which &gt; 159))||(!(event.which &lt; 166 || event.which &gt; 255))) return false;"/>
									
							</f:facet>
						</p:cellEditor>
			        
			    </p:column>
			 
			    <p:column headerText="Apellidos" styleClass="panelTabla">
			     <p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{lista.apellidos}" />
							</f:facet>
							<f:facet name="input">
								
								<p:inputText value="#{lista.apellidos}" required="true" maxlength="70" validatorMessage="Por favor ingrese los Apellidos Correctamente" onkeypress="if(!(event.which &lt; 33 || event.which &gt; 64)||(!(event.which &lt; 91 || event.which &gt; 96))||(!(event.which &lt; 123 || event.which &gt; 159))||(!(event.which &lt; 166 || event.which &gt; 255))) return false;"/>
									
							</f:facet>
						</p:cellEditor>
			        
			    </p:column>
			 			    
			    <p:column headerText="DNI" styleClass="panelTabla">
			             <p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{lista.idEmpleado}" />
							</f:facet>
							<f:facet name="input">
								
								<p:inputMask value="#{lista.idEmpleado}"  required="true" mask="99999999"/>
							</f:facet>
						</p:cellEditor>
			        
			    </p:column>
			    
			    <p:column headerText="Celular" styleClass="panelTabla">
			        <p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{lista.celular}" />
							</f:facet>
							<f:facet name="input">
								
								
								<p:inputMask value="#{lista.celular}"  required="true" mask="999999999"/>
								
							</f:facet>
						</p:cellEditor>
			    </p:column>
			    
			    <p:column headerText="Cargo" styleClass="panelTabla">
			         <p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{lista.cargo}" />
							</f:facet>
							<f:facet name="input">
								<p:inputText value="#{lista.cargo}" />
							</f:facet>
						</p:cellEditor>
			    </p:column>
			    
			    <p:column headerText="Especialidad" styleClass="panelTabla">
			         <p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{lista.especialidad}" />
							</f:facet>
							<f:facet name="input">
								 <p:inputText value="#{lista.especialidad}" />
							</f:facet>
						</p:cellEditor>
			    </p:column>
			    <p:column headerText="Estado" styleClass="panelTabla">
						
								<h:outputText value="#{lista.estado}" />
							
					</p:column>
			    <p:column headerText="Opciones" styleClass="panelTabla" >
					
						<p:rowEditor style="display:inline-block;" />
						<div style="margin-top:-20px; margin-left:30px;">
						 <p:commandButton icon="ui-icon-circle-arrow-s"  action="#{profesoresMB.darBaja(lista)}"  title="Dar de Baja"
						 update=":form:idTabaProfesores" resetValues="true" />
			<p:commandButton icon="ui-icon-circle-arrow-n" action="#{profesoresMB.darAlta(lista)}"  title="Dar de Alta"
						 update=":form:idTabaProfesores" resetValues="true" style="margin-left:10px;" />
			</div>
						 
					</p:column>
			</p:dataTable>
				
		</p:panel>
		
		</h:form>
	</h:body>
	</f:view>
</html>